<div class="details__content">

  <div *ngIf="data?.type === 'org'" class="orgDetails">
    <h1>{{data?.details?.org_name}}</h1>

    <div class="orgMain">

      <div class="orgTeams">
        <table *ngIf="orgTeams.length">
          <tr class="headers">
            <th>Teams</th>
          </tr>

          <tr *ngFor="let team of orgTeams" (click)="this.data = { type: 'team', details: team }">
            <td>{{team?.name}}</td>
          </tr>
        </table>
      </div>

      <div class="orgAnnouncements">
        <h3>Announcements</h3>
        <button class="create" (click)="createAnnouncement()" *ngIf="user?.access_level > 1">Create new announcement</button>

        <ul *ngIf="announcements?.length">
          <li *ngFor="let announcement of announcements">
            <button *ngIf="user?.access_level > 1" (click)="deleteAnnouncement(announcement)">Delete</button>
            <h4>{{announcement?.title}}</h4>
            <span class="author">{{announcement?.author}}</span>
            <span class="body">{{announcement?.body}}</span>
            <span class="date">{{announcement?.creation_date}}</span>
          </li>
        </ul>
      </div>

    </div>

  </div>

  <div *ngIf="data?.type === 'match'" class="matchDetails">

    <div class="matchUp">
      <span>{{data?.details?.team1_name}}</span>
      vs
      <span>{{data?.details?.team2_name}}</span>
    </div>

    <div class="matchSpecifics">
      <span>{{data?.details?.location}}</span>
      <span>{{data?.details?.match_date}}</span>
      <span *ngIf="data?.details?.tournament">{{data?.details?.tournament}}</span>
    </div>

    <div class="bets">
      <div class="place">
        <button *ngIf="!openBets" (click)="openBets = !openBets">Place bet</button>

        <form *ngIf="openBets" (submit)="placeBet($event, team.value, amount.value); openBets = !openBets" #betForm>
          <select #team>
            <option [value]="data?.details?.team1_name">{{data?.details?.team1_name}}</option>
            <option [value]="data?.details?.team2_name">{{data?.details?.team2_name}}</option>
          </select>
          <input type="text" placeholder="Amount" #amount>
          <input type="submit" value="Place">
        </form>
      </div>

      <h4>Bets</h4>
      <ul *ngIf="bets.length">
        <li *ngFor="let bet of bets">
          <span>${{bet.amount}}</span>
          <span>{{bet.team}}</span>
        </li>
      </ul>
    </div>

  </div>

  <div *ngIf="data?.type === 'team'" class="teamDetails">
    <h1>{{data?.details.name}}</h1>
    <span>{{data?.details?.organization}}</span>
    <div class="stats">
      <span>{{data?.details?.wins}}</span>
      <span>{{data?.details?.losses}}</span>
    </div>
  </div>

</div>
